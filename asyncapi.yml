"components:\n  schemas:\n    Customer_Insight:\n      x-ep-schema-version: 0.1.0\n      x-ep-schema-version-id: qygxyxsfq3z\n      $schema: 'http://json-schema.org/draft-07/schema#'\n      x-ep-schema-state-name: DRAFT\n      x-ep-schema-name: Customer Insight\n      title: CustomerInsight\n      type: object\n      x-ep-application-domain-id: xauu5j6wnua\n      required:\n        - customer_id\n        - insight_type\n        - insight_description\n        - insight_value\n        - timestamp\n      x-ep-schema-version-displayname: ''\n      x-ep-shared: 'false'\n      x-ep-application-domain-name: Customer360\n      x-ep-schema-state-id: '1'\n      x-ep-schema-id: 5u5iyivb1yw\n      properties:\n        insight_description:\n          description: A brief description of the insight\n          type: string\n        insight_type:\n          description: 'The type of insight (e.g., demographic, behavioral, transactional)'\n          type: string\n        insight_value:\n          description: The value or result of the insight\n          type: string\n        customer_id:\n          description: The unique identifier of the customer\n          type: string\n        timestamp:\n          format: date-time\n          description: The timestamp when the insight was generated\n          type: string\n    Order_JSON:\n      x-ep-schema-version: 0.1.0\n      x-ep-schema-version-id: zy0y6t041v1\n      $schema: 'http://json-schema.org/draft-07/schema#'\n      x-ep-schema-state-name: RELEASED\n      x-ep-schema-name: Order_JSON\n      title: Order\n      type: object\n      x-ep-application-domain-id: m5vk0tf8l1e\n      required:\n        - order_id\n        - customer\n        - items\n        - total_price\n        - order_date\n        - status\n      x-ep-schema-version-displayname: ''\n      x-ep-shared: 'true'\n      x-ep-application-domain-name: OnlineServices\n      x-ep-schema-state-id: '2'\n      x-ep-schema-id: mtq2ecrka2f\n      definitions:\n        order_item:\n          type: object\n          properties:\n            quantity:\n              description: Quantity of the item ordered\n              type: integer\n              minimum: 1\n            item_id:\n              description: Unique identifier for the item\n              type: string\n            price:\n              description: Price per unit of the item\n              type: number\n              minimum: 0\n          required:\n            - item_id\n            - quantity\n            - price\n        customer:\n          type: object\n          properties:\n            name:\n              description: Name of the customer\n              type: string\n            id:\n              description: Unique identifier for the customer\n              type: string\n            email:\n              format: email\n              description: Email address of the customer\n              type: string\n          required:\n            - id\n            - name\n            - email\n      properties:\n        order_date:\n          format: date-time\n          description: Date and time when the order was placed\n          type: string\n        total_price:\n          description: Total price of the order\n          type: number\n          minimum: 0\n        order_id:\n          description: Unique identifier for the order\n          type: string\n        items:\n          description: Items included in the order\n          type: array\n          items:\n            $ref: '#/components/schemas/Order_JSON/definitions/order_item'\n        customer:\n          description: Customer placing the order\n          $ref: '#/components/schemas/Order_JSON/definitions/customer'\n        status:\n          description: Status of the order\n          type: string\n          enum:\n            - pending\n            - processing\n            - shipped\n            - delivered\n            - cancelled\n    Customer_JSON:\n      x-ep-schema-version: 0.1.0\n      x-ep-schema-version-id: wupim4e5kqy\n      $schema: 'http://json-schema.org/draft-07/schema#'\n      x-ep-schema-state-name: RELEASED\n      x-ep-schema-name: Customer_JSON\n      title: Customer\n      type: object\n      x-ep-application-domain-id: m5vk0tf8l1e\n      required:\n        - id\n        - name\n        - email\n        - address\n      x-ep-schema-version-displayname: ''\n      x-ep-shared: 'true'\n      x-ep-application-domain-name: OnlineServices\n      x-ep-schema-state-id: '2'\n      x-ep-schema-id: f1bad2jvpgw\n      properties:\n        address:\n          type: object\n          properties:\n            country:\n              description: Country\n              type: string\n            city:\n              description: City\n              type: string\n            street:\n              description: Street address\n              type: string\n            state:\n              description: State or province\n              type: string\n            postal_code:\n              description: Postal or ZIP code\n              type: string\n          required:\n            - street\n            - city\n            - country\n        phone:\n          pattern: '^\\+?[0-9]{1,3}-?[0-9]{3,}$'\n          description: Phone number of the customer\n          type: string\n        name:\n          description: Name of the customer\n          type: string\n        id:\n          description: Unique identifier for the customer\n          type: string\n        email:\n          format: email\n          description: Email address of the customer\n          type: string\n  messages:\n    Customer_Created:\n      x-ep-event-id: bo4yt1olz4x\n      x-ep-event-version-displayname: ''\n      description: >-\n        Shows changes to customer information including name, address and\n        loyalty status\n      x-ep-application-domain-id: m5vk0tf8l1e\n      schemaFormat: application/vnd.aai.asyncapi+json;version=2.0.0\n      x-ep-event-state-name: RELEASED\n      x-ep-shared: 'true'\n      x-ep-application-domain-name: OnlineServices\n      x-ep-event-version-id: brgndoy8c6e\n      payload:\n        $ref: '#/components/schemas/Customer_JSON'\n      x-ep-event-version: 2.0.2\n      x-ep-event-name: Customer Created\n      contentType: application/json\n      x-ep-event-state-id: '2'\n      x-ep-custom-attr-confidential: 'true'\n    Customer_Updated:\n      x-ep-event-id: 5kmldguqbu0\n      x-ep-event-version-displayname: ''\n      description: ''\n      x-ep-application-domain-id: m5vk0tf8l1e\n      schemaFormat: application/vnd.aai.asyncapi+json;version=2.0.0\n      x-ep-event-state-name: RELEASED\n      x-ep-shared: 'true'\n      x-ep-application-domain-name: OnlineServices\n      x-ep-event-version-id: 1cqw8sdtah1\n      payload:\n        $ref: '#/components/schemas/Customer_JSON'\n      x-ep-event-version: 2.0.1\n      x-ep-event-name: Customer Updated\n      contentType: application/json\n      x-ep-event-state-id: '2'\n      x-ep-custom-attr-confidential: 'true'\n    Customer_Insight_Generated:\n      x-ep-event-id: 9ncx7pemrqh\n      x-ep-event-version-id: xgi3yrerhrp\n      payload:\n        $ref: '#/components/schemas/Customer_Insight'\n      x-ep-event-version: 0.1.0\n      x-ep-event-name: Customer Insight Generated\n      x-ep-application-domain-id: xauu5j6wnua\n      schemaFormat: application/vnd.aai.asyncapi+json;version=2.0.0\n      contentType: application/json\n      x-ep-event-state-id: '1'\n      x-ep-event-state-name: DRAFT\n      x-ep-shared: 'false'\n      x-ep-application-domain-name: Customer360\n    Order_Created:\n      x-ep-event-id: r8o72nqjyos\n      x-ep-event-version-displayname: ''\n      description: Created after an order is validated as correct and passes logic checks\n      x-ep-application-domain-id: m5vk0tf8l1e\n      schemaFormat: application/vnd.aai.asyncapi+json;version=2.0.0\n      x-ep-event-state-name: RELEASED\n      x-ep-shared: 'true'\n      x-ep-application-domain-name: OnlineServices\n      x-ep-event-version-id: zj7sunbue79\n      payload:\n        $ref: '#/components/schemas/Order_JSON'\n      x-ep-event-version: 2.0.2\n      x-ep-event-name: Order Created\n      contentType: application/json\n      x-ep-event-state-id: '2'\n      x-ep-custom-attr-confidential: 'true'\nchannels:\n  'acmeretail/onlineservices/customer/created/v2/{regionId}/{customerId}':\n    publish:\n      bindings:\n        solace:\n          destinations:\n            - destinationType: queue\n              queue:\n                name: C360.CUSTOMERS\n                topicSubscriptions:\n                  - acmeretail/onlineservices/customer/created/v2/*/*\n                  - acmeretail/onlineservices/customer/updated/v2/*/*\n          bindingVersion: 0.3.0\n      message:\n        $ref: '#/components/messages/Customer_Created'\n    parameters:\n      regionId:\n        schema:\n          type: string\n        x-ep-parameter-name: regionId\n      customerId:\n        schema:\n          type: string\n        x-ep-parameter-name: customerId\n  'acmeretail/onlineservices/order/created/v2/{regionId}/{orderId}':\n    publish:\n      bindings:\n        solace:\n          destinations:\n            - destinationType: queue\n              queue:\n                name: C360.ORDERS\n                topicSubscriptions:\n                  - acmeretail/onlineservices/order/created/v2/*/*\n          bindingVersion: 0.3.0\n      message:\n        $ref: '#/components/messages/Order_Created'\n    parameters:\n      regionId:\n        schema:\n          type: string\n        x-ep-parameter-name: regionId\n      orderId:\n        schema:\n          type: string\n        x-ep-parameter-name: orderId\n  'acmeretail/c360/customerinsight/generated/v1/{insighttype}/{customerid}':\n    subscribe:\n      message:\n        $ref: '#/components/messages/Customer_Insight_Generated'\n    parameters:\n      customerid:\n        schema:\n          type: string\n        x-ep-parameter-name: customerid\n      insighttype:\n        schema:\n          type: string\n        x-ep-parameter-name: insighttype\n  'acmeretail/onlineservices/customer/updated/v2/{regionId}/{customerId}':\n    publish:\n      bindings:\n        solace:\n          destinations:\n            - destinationType: queue\n              queue:\n                name: C360.CUSTOMERS\n                topicSubscriptions:\n                  - acmeretail/onlineservices/customer/created/v2/*/*\n                  - acmeretail/onlineservices/customer/updated/v2/*/*\n          bindingVersion: 0.3.0\n      message:\n        $ref: '#/components/messages/Customer_Updated'\n    parameters:\n      regionId:\n        schema:\n          type: string\n        x-ep-parameter-name: regionId\n      customerId:\n        schema:\n          type: string\n        x-ep-parameter-name: customerId\nasyncapi: 2.6.0\ninfo:\n  x-ep-application-version: 0.1.0\n  x-ep-application-version-id: 9mp131whq8s\n  x-ep-application-id: 4nfrbubil2b\n  x-ep-state-name: DRAFT\n  title: Customer 360\n  x-ep-application-domain-id: xauu5j6wnua\n  version: 0.1.0\n  x-ep-state-id: '1'\n  x-ep-application-domain-name: Customer360\n"